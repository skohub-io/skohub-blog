{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-09-27-skohub-vocabs/","result":{"data":{"site":{"siteMetadata":{"title":"Skohub Blog"}},"markdownRemark":{"id":"06d8681b-f2a7-504d-abe6-bda80b826cc8","excerpt":"We are happy to announce that the SkoHub prototype outlined in our post “SkoHub: Enabling KOS-based content subscription” is now finished. In a series of three…","html":"<p>We are happy to announce that the SkoHub prototype outlined in our post <a href=\"http://blog.lobid.org/2019/05/17/skohub.html\">“SkoHub: Enabling KOS-based content subscription”</a> is now finished. In a series of three post we will report on the outcome by walking through the different components and presenting their features.</p>\n<p>SkoHub is all about utilizing the power of Knowledge Organization Systems (KOS) to create a publication/subscription infrastructure for Open Educational Resources (OER). Consequently, publishing these KOS on the web according to the standards was the first area of focus for us. We are well aware that there are already plenty of Open Source tools to <a href=\"http://skosmos.org/\">publish</a> and <a href=\"http://vocbench.uniroma2.it/\">edit</a> vocabularies based on <a href=\"https://en.wikipedia.org/wiki/Simple_Knowledge_Organization_System\">SKOS</a>, but these are usually monolithic database applications. Our own workflows often involve managing smaller vocabularies as <a href=\"https://github.com/hbz/lobid-vocabs\">flat files on GitHub</a>, and <a href=\"https://github.com/dcmi/lrmi/tree/master/lrmi_vocabs\">others</a> seem to also do so.</p>\n<p>We will thus start this series with <a href=\"https://github.com/hbz/skohub-vocabs\">SkoHub Vocabs</a> (formerly called “skohub-ssg”), a static site generator that provides integration for a GitHub-based workflow to publish an HTML version of SKOS vocabularies. Check out the <a href=\"https://jamstack.org/best-practices/\">JAMStack Best Practices</a> for some thoughts about the advantages of this approach. SkoHub Vocabs – like SkoHub Editor that will be presented in a separate post – is a stand-alone module that can already be helpful on its own, when used without any of the other SkoHub modules.</p>\n<h2>How to publish a SKOS scheme from GitHub with SkoHub Vocabs</h2>\n<p>Let’s take a look at the editing and publishing workflow step by step. We will use SkoHub Vocabs to publish a subject classification for Open Educational Resources. We will use the “Educational Subject Classification” (ESC), that was created for the <a href=\"https://oerworldmap.org\">OER World Map</a> based on <a href=\"http://uis.unesco.org/sites/default/files/documents/isced-fields-of-education-and-training-2013-en.pdf\">ISCED Fields of Education and Training 2013</a>.</p>\n<h3>Step 1: Publish vocab as turtle file(s) on GitHub</h3>\n<p>Currently, a SKOS vocab has to be published in a GitHub repository as one or more <a href=\"https://www.w3.org/TR/turtle/\">Turtle</a> file(s) in order to be processed by SkoHub Vocabs. ESC is already <a href=\"https://github.com/hbz/vocabs-edu/blob/master/esc.ttl\">available on GitHub</a> in one Turtle file, so there is nothing to do in this regard. Note that you can also use the static site generator locally, i.e. without GitHub integration; see <a href=\"#implementation\">below</a> for more about this.</p>\n<h3>Step 2: Configure webhook</h3>\n<p>In order to publish a vocabulary from GitHub with SkoHub Vocabs, you have to set up a webhook in GitHub. It goes like this:</p>\n<ol>\n<li>In the GitHub repo where the vocab resides, go to “Settings” → “Webhooks” and click “Add webhook”</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz6WS626cMBBGef9nS6SoiqpEVdVtdlkWDCz4gm/YpzK021WTH6060vGM0PDZ89mVmBbqwXIQFrkEQoy4EHE+4EN8h/WB07GmPzeocaRpO6TStF2PNgtVWaReGCeFNpZZKiapMIvlOkmUNhtSGaRUKOuYHh7pHx+YX15wZsEBPuWNSi1+23ld140QAsMw0gmB954SOedb3qryXes9K0l4ekJ8ekZ/O1AJvdLrldkU0bSJDsNA23XMs0RrgzblhAqtNVqXSTTKGGbjmMcJ9XakP3zHjVeq9vMXprcTOa2klIgxcmlbmubC+dxwqmvOTUNd19RNy/HSc2oEFzEirpr2qjE+YEMgAVX7/Mrw9Y207oLlhGXUe5xzew4rNoANmZj4HcWSYkdKVGVcofaRQ9xFf3n2LrYf00bOaev9k6qXASHDT6G0+fhR40eUjfc67xeWM1V5LuNs8H5/ezGud43p1vi3VGJUdFeDth7rPCHE/xP0MWFDIq73vuRb/a+CPwDkpVjCrQYeOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot of the Webhook page in a GitHub repo with highlighted fields for the navigation path.\"\n        title=\"Screenshot of the Webhook page in a GitHub repo with highlighted fields for the navigation path.\"\n        src=\"/static/a30562938e313d345071b4f50e905510/f058b/add-webhook.png\"\n        srcset=\"/static/a30562938e313d345071b4f50e905510/c26ae/add-webhook.png 158w,\n/static/a30562938e313d345071b4f50e905510/6bdcf/add-webhook.png 315w,\n/static/a30562938e313d345071b4f50e905510/f058b/add-webhook.png 630w,\n/static/a30562938e313d345071b4f50e905510/40601/add-webhook.png 945w,\n/static/a30562938e313d345071b4f50e905510/78597/add-webhook.png 947w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of the Webhook page in a GitHub repo with highlighted fields for the navigation path.</figcaption>\n  </figure>\n2. Enter <code class=\"language-text\">https://test.skohub.io/build</code> as payload URL, choose <code class=\"language-text\">application/json</code> as content type and enter the secret. (Please <a href=\"http://lobid.org/team/\">contact</a> us for the secret if you want to try it out.)\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVQ4y41TW24bMQzcq/cO/egNeqCiH2mA/hSJ1/vSavV+UBOQazuO7bQlMBiBNmeHpNSlnOG9h/Mexjo4H6A3I2yshw9Rzta9/86s+j/YhheUUpGv0MVcoV1GqYRSK1prUrTqDdO8YBhnhJgQUoZnjlnAdYJUENOey6WgC7lhMoTN8x8IHOzspR93HAZMs8K8KCiloVYtZ/4Y87ysGKcZi7YgInTWGLweZxBVAE0chlQw6oDVFbhIoFpRa5WCejozyjUTSW3nfUC/OPh0SgIy00PfQykFYwxSLvtISr3MjIs/RgMRCyZCvxZo995yCBHDMGITsXxxwg7POAsyX6NjkaMuCCLGyV3wOE6yTWpArSQu+UytCT+KvWUpVjAuwoeEnAtWG3FcLHwBbCTY2GBT2zkSdCDE0i4zP0Na5gUclcfmssyG3biQcBgU5tWKcxcrXNrhM8HnhlLbXbuyZflO23GOGCO01jDGyoKC90jMzqHmjM9CWgZ26+cER85ZFsKC/GpEUG+IekO27s7ZR4c3SQ4fAqZplsvLgny1jHPYrEVI6eF2LzO8tcxRSoF1DmpdYazF/8ap5XvBypc3ZJRYZIY8089c3bX8SHALBk/Db7zaAT4GpJRkDDGmvwrTrUNq+0v5qZ7x5cdXfPv1HSZZ2Vml/aX8q+U3aH7kicYMJaUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot of the Webhook page with input (payload URL and secret).\"\n        title=\"Screenshot of the Webhook page with input (payload URL and secret).\"\n        src=\"/static/8650d807e6599370e6b3819a46654b15/f058b/add-webhook2.png\"\n        srcset=\"/static/8650d807e6599370e6b3819a46654b15/c26ae/add-webhook2.png 158w,\n/static/8650d807e6599370e6b3819a46654b15/6bdcf/add-webhook2.png 315w,\n/static/8650d807e6599370e6b3819a46654b15/f058b/add-webhook2.png 630w,\n/static/8650d807e6599370e6b3819a46654b15/40601/add-webhook2.png 945w,\n/static/8650d807e6599370e6b3819a46654b15/38124/add-webhook2.png 953w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of the Webhook page with input (payload URL and secret).</figcaption>\n  </figure></p>\n<h3>Step 3: Execute build &#x26; error handling</h3>\n<p>For the vocabulary to be built and published on SkoHub, there has to be a new commit in the master branch. So, we have to adjust something in the vocab and push it into the master branch. Looking again at the webhook page in the repo settings, you can see a notice that the build was triggered:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5d638e5a214e95beb550c5ddf028b8fa/01dae/check-webhook-response.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8UlEQVQ4y42STW7bMBCFfe2ueoJuuugRuuoFeocCAWpFhWMkiC3EEiWb/z9DcjgsZKWGW8RIPzwQBMlHviG5IiLnvLVukbHWmEVOaZNSKm+BOGtFRNqY04lLqbgQ3nvn5718CNb5jEhvUYiwnM0AYIzVWnMuEEu9gm5wZY7ROieVOgmhjYEARHTb+I/ZgeaGElEuMaWUM5aScy6lvGOuVHs7rtnDhj89iU4LaYTUQmpj8UbBV+Zav3XfP/z89LH5/GX7VY+T7np1YIj4XzVra4SWXEmplQNAolmIWN5hVUrph4ExNjL2cuin41QrXa66LLri+vwVUUlUDGTlwIboQxbacW1PykLKl+DLXpUopgQxQYwZcVUruRC4thOXXT/8eGmlcx6Shbj8kForABx6Zp0HiM5574Pz8/+Za2aMGWNrrSnFKXAkXJJfoqaUtLEhzoQAMUYAWJ6KxmkahoGNo1Q6xzyvAAhhWfxKzjn9TTnHrvt997DdPj4+Pj/vdrtd13X73X6ajv42zrmc8xx7Op2E0lJrqY0yhkvpQkiIMeeYczq315qnUkLEVUEcH7ZxHPM0vep4TOMYFzEGjEX2p7OM9H3WusxPheg3G9m2fL2WbavaX6ptZXMv789qGr5eq3m8FU0j71veNPzuDoYBa/0N6FnSaftrdg8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot from GitHub Webhook page with information that build was triggered with link to build log.\"\n        title=\"Screenshot from GitHub Webhook page with information that build was triggered with link to build log.\"\n        src=\"/static/5d638e5a214e95beb550c5ddf028b8fa/f058b/check-webhook-response.png\"\n        srcset=\"/static/5d638e5a214e95beb550c5ddf028b8fa/c26ae/check-webhook-response.png 158w,\n/static/5d638e5a214e95beb550c5ddf028b8fa/6bdcf/check-webhook-response.png 315w,\n/static/5d638e5a214e95beb550c5ddf028b8fa/f058b/check-webhook-response.png 630w,\n/static/5d638e5a214e95beb550c5ddf028b8fa/01dae/check-webhook-response.png 721w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot from GitHub Webhook page with information that build was triggered with link to build log.</figcaption>\n  </figure></p>\n<p>However, looking at the build log, an error is shown and the site did not build:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c0afbbe39292d1e772cf87dc2ac2b4f5/29114/error-in-build-log.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVQoz4WSXW/aMBRA+fltWUmkjQDdntbtt3S8VOWhUqtJFBKHMEyBJLbz3TPFIFg7bbV1dK+udI+u5duRUvK82SDCiJkvmIuQqS+YBQIRLRGLiCc/sASLiCBcEISn2PYFiyVi5iOCkI4yOYky7FKN0hmFaVitC3RsqLKaJm+o8wZq4OUNNaQ6I2lJFUmq6cTKEGtDonO2JsWvfH6mjzwmD0yzKUEd2JpoBOFL+IpFHbHTmkRlxDojVppOovdCrUrmOqRf9nGky2V4iStdBsWAYTVkUA6ODMsh/arP1+IaqXekKreOgzA7CU2IV3k4kUN31rVSL/dOwuqNsHxHONOCT+YjztKhO+/i/HKOE7YSGw95K7x+T9g+eVB4uEuXnt/DjVw85TEqR4yqE1fVlZ32W/md9f+ETyagV/c4l+eWM3nGxfYCp3Re4ZYul+UHPhdf/j1hW1zpDWP9g7Eac5PccJvfMqknTJq/uWvuuK/v2Wp1+GVj188KbUEZlM4p4oJUpmTbDMr9rtlYHPI/T7Pfw7a39Wzi5CC04xpS08oTAhGwXC2RzxK5lmy2G1KVWqqmojncqqmt6CjcJfwGy5Ucr+Jh6OIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot from build log with error message\"\n        title=\"Screenshot from build log with error message\"\n        src=\"/static/c0afbbe39292d1e772cf87dc2ac2b4f5/f058b/error-in-build-log.png\"\n        srcset=\"/static/c0afbbe39292d1e772cf87dc2ac2b4f5/c26ae/error-in-build-log.png 158w,\n/static/c0afbbe39292d1e772cf87dc2ac2b4f5/6bdcf/error-in-build-log.png 315w,\n/static/c0afbbe39292d1e772cf87dc2ac2b4f5/f058b/error-in-build-log.png 630w,\n/static/c0afbbe39292d1e772cf87dc2ac2b4f5/40601/error-in-build-log.png 945w,\n/static/c0afbbe39292d1e772cf87dc2ac2b4f5/78612/error-in-build-log.png 1260w,\n/static/c0afbbe39292d1e772cf87dc2ac2b4f5/29114/error-in-build-log.png 1920w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot from build log with error message</figcaption>\n  </figure></p>\n<p>Oops, we forgot to check the vocab for syntax errors before triggering the build and there actually <em>is</em> a syntax error in the turtle file. Fixing the syntax in a new <a href=\"https://github.com/hbz/vocabs-edu/commit/6ab97649874607df7784eaa0787adadbcefde166\">commit</a> will automatically trigger a new build:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a295ec74a05afd3b5175ce477988c1fb/29114/fix-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQoz42Sb2vbMBCH89GXpc2fbmQM9m6DfaRtaRInaVwY7EW9po4sS5ZkyX6KnDRraQYVPAjufvfjuLveIlkzmy9JVhu2aUp6e8t8uepiP2cLfvyaM5snXC8SrucJy9WG9U3KarM9kay3rBcJ25uU3vTzF8YfPzH+MD0xuprSv7zi/eX4wHDCYDihfzHi3SAypH8Rc5Mu34+awYiv377Ts9bhXN1h41/XCCHZCU2pDaoy6MqijUNIRVEe4pV11LXHHal9QJYlPc68LJf8zgR/7iV77ZG2RVThiCcrHKXxr+qstfTatuU58anKkhcapQ3GOkLb4kNz4hC3nfZ5nTHmvGGlDbKQ7HY5QpTdCKRUKKVRqiKOyftw3vCp3ReGpkQUOVl2Ry72CFlQyAJZyo6ilBhr3m74Ny+4u9+zLxS1b3C+ofZtN4qIDy2had9uKKWkVBrTbd2jjaUyFlM5jHFRfKqB/xj+Exw35upuIZF4EpFMPZCVO0LTvGjiqc45d75D7z1K6+NtHu40xnIjeDCCJura14YhBB4BmLo8H+QEGOsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot from build log with error message\"\n        title=\"Screenshot from build log with error message\"\n        src=\"/static/a295ec74a05afd3b5175ce477988c1fb/f058b/fix-error.png\"\n        srcset=\"/static/a295ec74a05afd3b5175ce477988c1fb/c26ae/fix-error.png 158w,\n/static/a295ec74a05afd3b5175ce477988c1fb/6bdcf/fix-error.png 315w,\n/static/a295ec74a05afd3b5175ce477988c1fb/f058b/fix-error.png 630w,\n/static/a295ec74a05afd3b5175ce477988c1fb/40601/fix-error.png 945w,\n/static/a295ec74a05afd3b5175ce477988c1fb/78612/fix-error.png 1260w,\n/static/a295ec74a05afd3b5175ce477988c1fb/29114/fix-error.png 1920w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot from build log with error message</figcaption>\n  </figure></p>\n<p>This time the build goes through without errors and, voilà, SkoHub has published a human-readable version of the vocabulary at <a href=\"https://test.skohub.io/hbz/vocabs-edu/heads/master/w3id.org/class/esc/scheme.en.html\">https://test.skohub.io/hbz/vocabs-edu/heads/master/w3id.org/class/esc/scheme.en.html</a>. SkoHub Static Site Generator also publishes an <a href=\"https://test.skohub.io/hbz/vocabs-edu/heads/master/index.en.html\">overview</a> of all the SKOS vocaularies in the GitHub repo.</p>\n<h3>Step 4: Redirect vocab URI to SkoHub</h3>\n<p>As we want the canonical version of ESC to be the one published with SkoHub Vocabs, we need to redirect the namespace URI we defined in the Turtle file to SkoHub. As we used w3id.org for this, we have to make a pull request in the respective repo.</p>\n<p><a href=\"https://github.com/perma-id/w3id.org/pull/1483\"><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.24050632911393%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvElEQVQ4y3VUSY4cRwys/3/DH/DVJwF+gS8+SJBHI0x3116570sIZNW0JUFKgCCyKhlkBoM5+JiwqIhFRtyPiBAicopIMSKX+oPV2mCcx7zuMNZh2wW0sRBS4xASMWUMdNCFDOMShA5wcodeH4hawLoA5yN8iLDOMxgBHVJxMH0nH2JiT1iD0gr/vb5gnCbM84x123F7THi7P7DtO9btQEwJvXfUWtFaY6M9rXfvvEeiCj+qF/zx+U+s+wYhJKRSUEpiFxq7yZDGw4QCFwms4vtFYO+AnKh3DKUWCCOZi1IqX4OukHKBcQEpV1gfoLRFjAmtgwPbBYQO1FZh9IGSEoZpHPHy5Svmw7Ct0kOHChMbzOXtZcoXrMpjUwE+VZiriLPCytUOxAsRSmQrZdioWqXN0+h/40o6amuX7xdgua7PxWI4HWAtXSki5/I89DNXbABypnOZAb0PJ9j1f6CA2gHriLuMmAp8SMwdcem954Pfd7c30mThzv6QjACj+Ad2+oDoD3izwJkFVpPNMHKC9xboBFSBXkFNDKkwoLXu/yTvgCVMyPoTin1AyRXeCpRskZNGzfYknDV4VphLYwnlnH4NSAG5d9zFA+N9xmPe8JhW3McF6yawC8mmreNJIX59LEyH1gb5J74ZMDSHf4+PONYN07ph3iSWecK2rViWBeu6cEXnaiy+3gs3hbRJlaWceZIGCrjdbmil8bxSZspKwnY+wIVweh9YWsY5CJ7lhEMo3O4j3u4jdqFYkwN1kcaNAqS2PBXUbeo0PQ60twwcT+8jlHGc0IfAOqUXiqp7ckjaogP0WpTafmv1st7AD8GyrM9ZftcrA5Za+TraOChjeVI07y03giaF6OCKQ8BuJKTR2A9x0uE8C/3ZlNY6d+9XRqMWnMc4zpiXHS/LG/56/Ruv8gbCMD6iXA0hwG+z5XasAJgiPgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Screenshot of a pull request to redirect ESC to SkoHub\" title=\"Screenshot of a pull request to redirect ESC to SkoHub\" src=\"/static/dcbc73109ed2edf14419bc87466a5342/f058b/open-pr-at-w3id.png\" srcset=\"/static/dcbc73109ed2edf14419bc87466a5342/c26ae/open-pr-at-w3id.png 158w,\n/static/dcbc73109ed2edf14419bc87466a5342/6bdcf/open-pr-at-w3id.png 315w,\n/static/dcbc73109ed2edf14419bc87466a5342/f058b/open-pr-at-w3id.png 630w,\n/static/dcbc73109ed2edf14419bc87466a5342/40601/open-pr-at-w3id.png 945w,\n/static/dcbc73109ed2edf14419bc87466a5342/eb2af/open-pr-at-w3id.png 954w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of a pull request to redirect ESC to SkoHub</figcaption>\n  </figure></a></p>\n<p>If everything looks good, w3id.org PRs are merged very quickly, in this case it happened an hour later.</p>\n<h3>Result: HTML &#x26; JSON-LD representation published with SkoHub &#x26; basic GitHub editing workflow</h3>\n<p>As a result, we have published a controlled vocabulary in SKOS under a permanent URI and with a human-readable <a href=\"https://w3id.org/class/esc/scheme.html\">HTML</a> representation from GitHub with a minimum amount of work. Additionally, the initial Turtle representation is transformed to more developer-friendly <a href=\"https://test.skohub.io/hbz/vocabs-edu/heads/master/w3id.org/class/esc/scheme.json\">JSON-LD</a>. The HTML has a hierarchy view that can be expanded and collapsed at will:</p>\n<p><a href=\"https://test.skohub.io/hbz/vocabs-edu/heads/master/w3id.org/class/esc/scheme.en.html\"><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVQoz62P20rjUBiF82bOlVgG8UIQxLuBufYBvPQxFLStWBhm8IRVEBRBRWRQk1btEA+1traxSbrbNImJSb8hoR4Rqsws+Nh7/4fF2tJEfoHJQpZx+SffDzN8+z3P2H6a0f05RvbSDO+kGdpOMriV5OvGLIn1GRJrsyRWkwysJBlYTtG/kOJLZpq+uSmkU6OCrF1zqBU5qF6wV1HZrV6wWTpjo3jK+lWe7GWeJVUmWyqwVlZZLv1hsVjg1+UZP85PyKh55tUTUoUckjAaVG7K1Ksad7c1hG7iCAu9fItRqca0dZPAcuAhpJcks9FA0zTato3n+3SAe9+P322ni21jOw4ty6LZaj2dTev5btk2rucj6YZBrVajXq9jmiaue08Q9k7ynqK9OKGu6wjRRAiB47pdww6dzseJDYMQqSGacTLP8wiCgDAM40akx8FeemX49ntR858MH4IgLoTd6FHCx9pnifYk/rMkWVFQlBzyC47fqfVCyeU4Opb5CzP1NdXpUl2bAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Screenshot of the HTML version of ESC published with SkoHub.\" title=\"Screenshot of the HTML version of ESC published with SkoHub.\" src=\"/static/e5a580cc6f532f9f98c427ff90a06429/f058b/published-vocab.png\" srcset=\"/static/e5a580cc6f532f9f98c427ff90a06429/c26ae/published-vocab.png 158w,\n/static/e5a580cc6f532f9f98c427ff90a06429/6bdcf/published-vocab.png 315w,\n/static/e5a580cc6f532f9f98c427ff90a06429/f058b/published-vocab.png 630w,\n/static/e5a580cc6f532f9f98c427ff90a06429/40601/published-vocab.png 945w,\n/static/e5a580cc6f532f9f98c427ff90a06429/78612/published-vocab.png 1260w,\n/static/e5a580cc6f532f9f98c427ff90a06429/29114/published-vocab.png 1920w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of the HTML version of ESC published with SkoHub.</figcaption>\n  </figure></a></p>\n<p>There also is a search field to easily filter the vocabulary:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15d14a94c2569955b4f41228f46ab1ec/0b533/skohub-ssg-filter.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7UlEQVQ4y6WRzYscVRDA54+QrJ7j5ubBg+JJFEQPIngSFAQ95ZJcchMha/wa4iHBEBMQRQjBHCKCEJC4SXbjRtyEWXXdzHZPT+/szPZ3T3/MdM9Md8/XT96bzLrrTS34UfXqVdWrqld6uvIZL/9xiecq53nxt4s8v3GBZx+c44XKRV7auMQz6+dYvPcJx9bKHFv7lMWfyzPulllcLfOkYKXM0Ttljt4uU3qqcpaT2nXerF7hXeVbjivXeG3zK96uXuWE+h2vbFzmsZX3eWJ1iYWV0yzcWeKI4PYSR249YvkDFpbP8PjyGUpf7v3CF801LrfWuLB7l893VznfWOGsfouP6z/xkXaTD7WbnK79yHvKDU5Vf+Dk1vcc37zOO79f462Nq7xRucLrD77h1fWvKU2yCdNswmQwQdhzpnO/ZHzo7mDMOBuTD4b0+jmdXp9S3OuTDDLSrCDJ8n9NKinoZwW9rKA0yAsG2YC426Gbdv8zcdKhnw0oFcMxpmNyb/1XNqtV1B19H0Wvo9TrUu+f9b/Pc5+q62ypCi2jSSkfjvADH0WrUW/soO3oVFWF7Zoqz/puY99X323MYhq6vD8Yo+oalmNTyooRYRRjWA6W49EyTDb/3OLhtoph2Vi2K336TkPem7aDaTk8rCpsKzVahsWeadNo7mFZttjhkNFohOd5BEGbOI5IkkTS6XQkcRxLnSRdaYtYoaMoYpBlDIdDiqJgMpnMCgqHptVlkus6MmFOEIQ4jotlWQRBgO+3MQ0D0zSxbVvmHhT5y6JymqaotRphGBKGAZ7r4vk+URRLu9XawzAMWfSfIvKn06lEFhyPx/Klbrcrk3zfx3VdqTVNo9lsyg79dhvXcbAdB8dxsExTdjyXQwVdzyMKQ3zPk7ZIEMFip6LrKAqJ4pgwCGgHgdyfmETY7Xab0Wg8G1n8cp7nrN+/T6vVIk0SGTQbN5JdC8QnxXHn0WfEpGlP7lzEHCrYzwvZ6nwP/0fEyH8B2i950qA9U44AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screenshot: Filter the scheme by yping in the search box\"\n        title=\"Screenshot: Filter the scheme by yping in the search box\"\n        src=\"/static/15d14a94c2569955b4f41228f46ab1ec/0b533/skohub-ssg-filter.png\"\n        srcset=\"/static/15d14a94c2569955b4f41228f46ab1ec/c26ae/skohub-ssg-filter.png 158w,\n/static/15d14a94c2569955b4f41228f46ab1ec/6bdcf/skohub-ssg-filter.png 315w,\n/static/15d14a94c2569955b4f41228f46ab1ec/0b533/skohub-ssg-filter.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot: Filter the scheme by yping in the search box</figcaption>\n  </figure></p>\n<p>This filter is based on a <a href=\"https://github.com/nextapps-de/flexsearch\">FlexSearch</a> index that is also built along with the rest of the content. This allows us to implement lookup functionalities without the need for a server-side API. More about this below and in the upcoming post on the SkoHub Editor.</p>\n<h2>Implementation</h2>\n<p>To follow along the more technical aspects, you might want to have SkoHub Vocabs checked out locally:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git clone https://github.com/hbz/skohub-vocabs\n$ cd skohub-vocabs\n$ npm i\n$ cp .env.example .env</code></pre></div>\n<p>The static site generator itself is implemented with <a href=\"https://www.gatsbyjs.org/\">Gatsby</a>. One reason for this choice was our good previous experience with <a href=\"https://reactjs.org/\">React</a>. Another nice feature of Gatsby is that all content is sourced into an in-memory database that is available using <a href=\"https://graphql.org/\">GraphQL</a>. While there is certainly a learning curve, this makes the experience of creating a static site not that much different from traditional database-based approaches. You can locally build a vocab as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cp test/data/systematik.ttl data/\n$ npm run build</code></pre></div>\n<p>This will result in a build in <code class=\"language-text\">public/</code> directory. Currently, the build is optimized to be served by Apache with <a href=\"https://httpd.apache.org/docs/2.4/mod/mod_negotiation.html\">Multiviews</a> in order to provide content negotiation. Please note that currently only vocabularies are supported that implement the <a href=\"https://www.w3.org/2001/sw/BestPractices/VM/http-examples/2006-01-18/#slash\">slash namespace</a> pattern. We will add support for hash URIs in the future.</p>\n<p>In order to trigger the static site generator from GitHub, a small webhook server based on <a href=\"https://koajs.com/\">Koa</a> was implemented. (Why not <a href=\"https://expressjs.com/\">Express</a>? – It wouldn’t have made a difference.) The <a href=\"https://developer.github.com/webhooks/\">webhook</a> server listens for and validates POST requests coming from GitHub, retrieves the data from the corresponding repository and then spins up Gatsby to create the static content.</p>\n<p>A final word on the FlexSearch index mentioned above. An important use case for vocabularies is to access them from external applications. Using the FlexSearch library and the index pre-built by SkoHub Vocabs, a lookup of vocabulary terms is easy to implement:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/FlexSearch/0.6.22/flexsearch.min.js\">&lt;/script>\n\n&lt;script>\n  fetch('https://w3id.org/class/esc/scheme', {\n    headers: { accept: 'text/index'}\n  }).then(response => response.json())\n    .then(serialized => {\n    const index = FlexSearch.create()\n    index.import(serialized)\n    console.log(index.search(\"philosophy\"))\n  })\n&lt;/script></code></pre></div>\n<p>Note that currently the index will only return URIs associated with the search term, not the corresponding labels. This will change in a future update.</p>","frontmatter":{"title":"Presenting the SkoHub Vocabs Prototype","date":"September 27, 2019","authors":[{"lastname":"Pohl","firstname":"Adrian"},{"lastname":"Ostrowski","firstname":"Felix"}],"description":"An introducatory post to SkoHub Vocabs."}},"previous":{"fields":{"slug":"/2019-05-17-skohub/"},"frontmatter":{"title":"SkoHub: Enabling KOS-based content subscription"}},"next":{"fields":{"slug":"/2020-01-29-skohub-talk-at-swib19/"},"frontmatter":{"title":"SkoHub talk at SWIB19: KOS-based content syndication with ActivityPub"}}},"pageContext":{"id":"06d8681b-f2a7-504d-abe6-bda80b826cc8","previousPostId":"489f8de8-6e66-5dbf-af18-bf10abc74e20","nextPostId":"c06e00ef-a3aa-51cf-b522-3c4e20079efd"}},"staticQueryHashes":["1878297489","2734362168","3000541721"],"slicesMap":{}}